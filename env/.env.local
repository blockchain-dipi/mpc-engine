# env/.env.local - Platform-based Configuration

DEPLOY_ENV=local
TLS_DOMAIN_SUFFIX=.local

# ===========================================
# Coordinator Configuration
# ===========================================
COORDINATOR_ID=coordinator
COORDINATOR_HOST=127.0.0.1
COORDINATOR_PORT=8080

# Coordinator 플랫폼
# - LOCAL, AWS, AZURE, IBM, GOOGLE 중 선택
# - 이 플랫폼에 따라 KMS, 네트워크 등 모든 설정이 결정됨
COORDINATOR_PLATFORM=LOCAL

# LOCAL 플랫폼 설정
COORDINATOR_LOCAL_KMS_PATH=.kms

# AWS 플랫폼 설정 (나중에 사용)
# COORDINATOR_PLATFORM=AWS
# COORDINATOR_AWS_REGION=us-east-1

# Azure 플랫폼 설정 (나중에 사용)
# COORDINATOR_PLATFORM=AZURE
# COORDINATOR_AZURE_REGION=eastus
# COORDINATOR_AZURE_VAULT_URL=https://coordinator-vault.vault.azure.net/

# ===========================================
# Node Configuration
# ===========================================
NODE_IDS=node1,node2,node3
NODE_HOSTS=127.0.0.1:8081,127.0.0.1:8082,127.0.0.1:8083

# Node 플랫폼 (각 Node가 어느 클라우드에 배포될지)
NODE_PLATFORMS=LOCAL,LOCAL,LOCAL
NODE_SHARD_INDICES=0,1,2

# 나중에 프로덕션:
# NODE_PLATFORMS=AWS,AZURE,IBM
# NODE_AWS_REGION=us-east-1
# NODE_AZURE_REGION=eastus
# NODE_IBM_REGION=us-south

# Node handler 설정
NODE_HANDLER_THREADS=6
NODE_SEND_QUEUE_SIZE_PER_HANDLER_THREAD=50

# LOCAL 플랫폼 공통 설정
NODE_LOCAL_KMS_PATH=.kms

# ===========================================
# Security
# ===========================================
ENABLE_KERNEL_FIREWALL=true
TRUSTED_COORDINATOR_IP=127.0.0.1

# ===========================================
# MPC Configuration
# ===========================================
MPC_THRESHOLD=2
MPC_TOTAL_SHARDS=3

# ===========================================
# Wallet Server Configuration
# ===========================================
WALLET_SERVER_URL=https://localhost:3000/api/v1
WALLET_SERVER_AUTH_TOKEN=Bearer wallet_dev_token_12345
WALLET_SERVER_TIMEOUT_MS=30000
WALLET_SERVER_MAX_RETRIES=3

# ===========================================
# TLS Configuration
# ===========================================
# TLS 인증서 경로 (Docker 배포용)
TLS_CERT_PATH=./certs/local/
TLS_CERT_CA=ca-cert.pem
TLS_CERT_COORDINATOR_WALLET=coordinator-cert.pem
TLS_CERT_PATHS=node1-cert.pem,node2-cert.pem,node3-cert.pem
# TLS 개인키 (KMS 관리)
TLS_KMS_CA_KEY_ID=ca-key.pem
TLS_KMS_COORDINATOR_WALLET_KEY_ID=coordinator-key.pem
TLS_KMS_NODES_COORDINATOR_KEY_IDS=node1-key.pem,node2-key.pem,node3-key.pem

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=DEBUG
LOG_FILE=./logs/coordinator-local.log

# ===========================================
# Connection Settings
# ===========================================
CONNECTION_TIMEOUT_MS=5000
MAX_CONNECTIONS=100
KEEPALIVE_INTERVAL_MS=30000

# Coordinator HTTPS Server (Wallet과 통신)
COORDINATOR_HTTPS_BIND=127.0.0.1
COORDINATOR_HTTPS_PORT=9080
COORDINATOR_HTTPS_MAX_CONNECTIONS=100
COORDINATOR_HTTPS_HANDLER_THREADS=8
COORDINATOR_HTTPS_IDLE_TIMEOUT_MS=60000